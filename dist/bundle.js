(()=>{"use strict";console.log("Script loaded.");const e=document.getElementById("form-preview"),t=document.getElementById("save-btn"),n=document.querySelectorAll(".element-option"),a=document.getElementById("hamburger-menu"),l=document.getElementById("sidebar"),r=document.getElementById("overlay");function o(){a.classList.toggle("active"),l.classList.toggle("active"),r.classList.toggle("active")}a.addEventListener("click",o),r.addEventListener("click",o),window.addEventListener("resize",(function(){window.innerWidth>768&&(l.classList.remove("active"),r.classList.remove("active"),a.classList.remove("active"))})),n.forEach((t=>{t.querySelector(".add-btn").addEventListener("click",(()=>{!function(t){const n="id-"+Math.random().toString(36).substr(2,9);let a;switch(t){case"input":a=function(e){const t=document.createElement("div");return t.className="form-element draggable",t.setAttribute("draggable",!0),t.id=e,t.innerHTML='\n                <label>\n                    Sample Label\n                    <button class="delete-btn">✕</button>\n                </label>\n                <input type="text" placeholder="Sample placeholder">\n            ',t.querySelector(".delete-btn").addEventListener("click",(()=>d(e))),t}(n);break;case"select":a=function(e){const t=document.createElement("div");return t.className="form-element draggable",t.setAttribute("draggable",!0),t.id=e,t.innerHTML='\n                <label>\n                    Select\n                    <button class="delete-btn">✕</button>\n                </label>\n                <select>\n                    <option>Sample option 1</option>\n                     <option>Sample option 2</option>\n                      <option>Sample option 3</option>\n                </select>\n            ',t.querySelector(".delete-btn").addEventListener("click",(()=>d(e))),t}(n);break;case"textarea":a=function(e){const t=document.createElement("div");return t.className="form-element draggable",t.setAttribute("draggable",!0),t.id=e,t.innerHTML='\n                <label>\n                    Text area\n                    <button class="delete-btn">✕</button>\n                </label>\n                <textarea placeholder="Sample placeholder"></textarea>\n            ',t.querySelector(".delete-btn").addEventListener("click",(()=>d(e))),t}(n)}var l;i.push({id:n,type:t}),e.appendChild(a),(l=a).addEventListener("dragstart",c),l.addEventListener("dragend",s),l.addEventListener("dragover",u),l.addEventListener("drop",g)}(t.getAttribute("data-type")),window.innerWidth<=768&&o()}))}));let i=[];function d(t){const n=document.getElementById(t);n&&(e.removeChild(n),i=i.filter((e=>e.id!==t)))}function c(e){e.target.classList.add("dragging"),e.dataTransfer.setData("text/plain",e.target.id)}function s(e){e.target.classList.remove("dragging")}function u(e){if(e.preventDefault(),document.querySelector(".dragging")){const t=e.target.closest(".form-element");t&&t.classList.add("drag-over")}}function g(e){e.preventDefault();const t=e.dataTransfer.getData("text/plain"),n=document.getElementById(t),a=e.target.closest(".form-element");if(document.querySelectorAll(".drag-over").forEach((e=>{e.classList.remove("drag-over")})),a&&a!==n){const t=a.getBoundingClientRect();e.clientY-t.top<t.height/2?a.parentNode.insertBefore(n,a):a.parentNode.insertBefore(n,a.nextSibling)}}t.addEventListener("click",(()=>{const e=i.map((e=>{const t=document.getElementById(e.id);return{id:e.id,type:e.type,label:t.querySelector(".label-text")?.textContent?.trim()||"",value:t.querySelector("input, select, textarea")?.value||""}}));console.log(JSON.stringify(e,null,2))}))})();